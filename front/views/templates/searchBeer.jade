section#searchBeer.searchBeer(ng-controller="searchBeerController")
    .container
        .container-fluid
            .row
                .col-xs-11
                    form.form-inline#search-form
                        .form-group
                            h3 Choose a type
                            ui-select(ng-model='type.selected', theme='bootstrap',on-select="refreshBeersList($item, $model)", reset-search-input='false', style='width: 300px;')
                                ui-select-match(placeholder='Enter an type...') {{type.selected.name}}
                                ui-select-choices(repeat='type in types track by $index', refresh='refreshTypes($select.search)', refresh-delay='0')
                                    div(ng-bind-html='type.name | highlight: $select.search')
                            a(ng-click="type={};refreshBeers('')")
                                span.glyphicon.glyphicon-remove

                        .form-group
                            h3 Choose a beer
                            ui-select(ng-model='beer.selected', theme='bootstrap', reset-search-input='false', style='width: 300px;')
                                ui-select-match(placeholder='Enter an beer...') {{$select.selected.nom}}
                                ui-select-choices(repeat='beer in beers track by $index', refresh='refreshBeers($select.search)', refresh-delay='0')
                                    div(ng-bind-html='beer.nom | highlight: $select.search')

                        .form-group
                            button.btn.btn-primary(type="button",ng-click="searchBeer()") Search your beer !

            .row
                .col-xs-11
                    ui-gmap-google-map(center='map.center',zoom='map.zoom')
                        ui-gmap-markers(models="myLocation",idKey="'uid'",icon="'icon'",coords="'self'")
                        ui-gmap-markers(models="barsLocation",idKey="'uid'",icon="'icon'",coords="'self'")
